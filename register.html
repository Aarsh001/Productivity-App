<!DOCTYPE html>
<html>
  <head>
    <title>Register</title>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="https://unpkg.com/ionicons@4.4.2/dist/css/ionicons.min.css" rel="stylesheet">
    <link href="styles.css" type="text/css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
      <!----------Header Tag-------------->
      <nav class="navbar navbar-expand-sm navbg navbar-dark justify-content-end">
          <div class="navbar-nav mx-3 font-weight-bold">
            <a class="nav-item nav-link navfontChange sizeChange" href="./contact.html">Contact Us</a>
            <div class="nav-item dropdown">
              <a class="nav-link dropdown-toggle navfontChange sizeChange mx-2" role="button" id="loginDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">Login/Register</a>
              <div class="dropdown-menu px-4 py-2 dropPersonal" aria-labelledby="loginDropdown">
                <form class="px-0 py-3">
                  <div class="form-group">
                    <label for="formEmail">Email address</label>
                    <input type="email" class="form-control" id="formEmail" placeholder="email@example.com">
                  </div>
                  <div class="form-group">
                    <label for="formPassword">Password</label>
                    <input type="password" class="form-control" id="formPassword" placeholder="Password">
                  </div>
                  <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="dropdownCheck">
                    <label class="form-check-label" for="dropdownCheck">Remember me</label>
                  </div>
                  <button type="submit" class="btn btn-light">Sign in</button>
                </form>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item dropPersonal" href="#">Register Now</a>
                <a class="dropdown-item dropPersonal" href="#">Forgot password?</a>
              </div>
            </div>
          <form class="form-inline my-2 my-lg-0">
            <input class="form-control-sm mr-sm-2" type="search" placeholder="Search this website..." aria-label="Search">
            <button class="btn btn-outline-light my-2 mx-2 my-sm-0 btn-sm" type="submit">Search</button>
          </form>
        </div>
      </nav>
      <!------Navigation Bar-------->
      <div class="navbg navContain">
        <div class="navWrap">
          <nav class="navbar navbar-expand-md navbar-dark">
            <a class="navbar-brand font-weight-bold">Productivity App</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navToggle" aria-controls="navToggle" aria-expanded="false" aria-label="Toggle navigation">
             <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navToggle">
                <div class="navbar-nav font-weight-bold mx-2 nav-fill">
                  <a href="./index.html" class="nav-item nav-link navfontChange sizeChangeBig mx-2" href="#">Home</a>
                  <a href="./about.html" class="nav-item nav-link navfontChange sizeChangeBig mx-2" href="#">About Us</a>
                  <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle navfontChange sizeChangeBig mx-2" role="button" id="navDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">More</a>
                    <div class="dropdown-menu dropPersonal" aria-labelledby="navDropdown">
                      <a class="dropdown-item dropPersonal" href="#">Link 1</a>
                      <a class="dropdown-item dropPersonal" href="#">Link 2</a>
                      <a class="dropdown-item dropPersonal" href="#">Link 3</a>
                      <a class="dropdown-item dropPersonal" href="#">Link 4</a>
                    </div>
                  </div>
                </div>
              </div>
            </nav>
        </div>
      </div>
      <!-------Main Page Content------->    
      <!-------Begin Outer Grid Container------->
      <div class="outerGridContainer">
        <!-------Form Box------->
        <div class="formContainer">
          <form action="" class="formGrid" novalidate>
            <h2 class="contentHeader" id="formHeader">Registration Form</h2>
            <div id="emailF">
              <label for="emailInput" class="formLabel">Email Address</label>
              <input type="email" class="form-control" id="emailInput" placeholder="Email Address" required>
              <div class="fValidate" id="emailFError">Please enter a valid email address!</div>
            </div>
            <div id="emailFC">
              <label for="emailcInput" class="formLabel">Confirm Email Address</label>
              <input type="email" class="form-control" id="emailcInput" placeholder="Confirm Email Address" required>
              <div class="fValidate" id="emailFCError">Email Address does not Match! Please enter again.</div>
            </div>
            <div id="pWord">
              <label for="password" class="formLabel">Password</label>
              <input type="password" class="form-control" id="password" placeholder="Create Password" required>
              <div class="fValidate" id="pWordError">
               <b>Password Guidelines:</b>
                <ul>
                  <li>Must contain atleast One Uppercase letter</li>
                  <li>Must contain atleast One Lowercase letter</li>
                  <li>Must contain atleast One Numeric Character</li>
                  <li>Must contain atleast One Special Character: #!_-?$&%@</li>
                  <li>Must contain between 8 & 16 characters</li>
                </ul>
              </div>
            </div>
            <div id="pWordC">
              <label for="cpassword" class="formLabel">Confirm Password</label>
              <input type="password" class="form-control" id="cpassword" placeholder="Confirm Password" required>
              <div class="fValidate" id="pWordCError">Password does not match! Please enter again! Passwords are Case-sensitive.</div>
            </div>
            <div id="fName">
              <label for="first_name" class="formLabel">First Name</label>
              <input type="text" class="form-control" id="first_name" placeholder="First Name" required>
              <div class="fValidate" id="fNameError">This Field must be completed!</div>
            </div>
            <div id="miName">
              <label for="middle_initial" class="formLabel">MI</label>
              <input type="text" class="form-control" id="middle_initial" placeholder="MI">
            </div>
            <div id="lName">
              <label for="last_name" class="formLabel">Last Name</label>
              <input type="text" class="form-control" id="last_name" placeholder="Last Name" required>
              <div class="fValidate" id="lNameError">This Field must be completed!</div>
            </div>
            <h4 class="contentHeader" id="dobLabel">Date of Birth</h4>
            <div id="dobM">
              <label class="mr-sm-2 formLabel" for="month_Birth">Month</label>
              <select class="custom-select mx-sm-0" id="month_Birth">
                <option value="" disabled selected>Please Choose</option>
                <option value="1">01 - January</option>
                <option value="2">02 - February</option>
                <option value="3">03 - March</option>
                <option value="4">04 - April</option>
                <option value="5">05 - May</option>
                <option value="6">06 - June</option>
                <option value="7">07 - July</option>
                <option value="8">08 - August</option>
                <option value="9">09 - September</option>
                <option value="10">10 - October</option>
                <option value="11">11 - November</option>
                <option value="12">12 - December</option>
              </select>
              <div class="fValidate" id="monthError">Please select your Month of Birth!</div>
            </div>
            <div id="dobD">
              <label class="mr-sm-2 formLabel" for="day_Birth">Day</label>
              <select class="custom-select mx-sm-0" id="day_Birth">
                <option value="1" selected>01</option>
                <option value="2">02</option>
                <option value="3">03</option>
                <option value="4">04</option>
                <option value="5">05</option>
                <option value="6">06</option>
                <option value="7">07</option>
                <option value="8">08</option>
                <option value="9">09</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
                <option value="21">21</option>
                <option value="22">22</option>
                <option value="23">23</option>
                <option value="24">24</option>
                <option value="25">25</option>
                <option value="26">26</option>
                <option value="27">27</option>
                <option value="28">28</option>
              </select>
            </div>
            <div id="dobY">
              <label class="mr-sm-2 formLabel" for="year_Birth">Year</label>
              <select class="custom-select mx-sm-0" id="year_Birth">
                <option value="" disabled selected>Please Choose</option>
                <option value="1960">1960</option>
                <option value="1961">1961</option>
                <option value="1962">1962</option>
                <option value="1963">1963</option>
                <option value="1964">1964</option>
                <option value="1965">1965</option>
                <option value="1966">1966</option>
                <option value="1967">1967</option>
                <option value="1968">1968</option>
                <option value="1969">1969</option>
                <option value="1970">1970</option>
                <option value="1971">1971</option>
                <option value="1972">1972</option>
                <option value="1973">1973</option>
                <option value="1974">1974</option>
                <option value="1975">1975</option>
                <option value="1976">1976</option>
                <option value="1977">1977</option>
                <option value="1978">1978</option>
                <option value="1979">1979</option>
                <option value="1980">1980</option>
                <option value="1981">1981</option>
                <option value="1982">1982</option>
                <option value="1983">1983</option>
                <option value="1984">1984</option>
                <option value="1985">1985</option>
                <option value="1986">1986</option>
                <option value="1987">1987</option>
                <option value="1988">1988</option>
                <option value="1989">1989</option>
                <option value="1990">1990</option>
                <option value="1991">1991</option>
                <option value="1992">1992</option>
                <option value="1993">1993</option>
                <option value="1994">1994</option>
                <option value="1995">1995</option>
                <option value="1996">1996</option>
                <option value="1997">1997</option>
                <option value="1998">1998</option>
                <option value="1999">1999</option>
                <option value="2000">2000</option>
                <option value="2001">2001</option>
                <option value="2002">2002</option>
                <option value="2003">2003</option>
                <option value="2004">2004</option>
                <option value="2005">2005</option>
                <option value="2006">2006</option>
                <option value="2007">2007</option>
                <option value="2008">2008</option>
                <option value="2009">2009</option>
                <option value="2010">2010</option>
                <option value="2011">2011</option>
                <option value="2012">2012</option>
                <option value="2013">2013</option>
                <option value="2014">2014</option>
                <option value="2015">2015</option>
                <option value="2016">2016</option>
                <option value="2017">2017</option>
              </select>
              <div class="fValidate" id="yearError">Please select your Year of Birth!</div>
            </div>
            <div id="security">
              <label class="mr-sm-2 formLabel" for="secuity_ques">Secuity Question</label>
              <select class="custom-select mx-sm-0" id="secuity_ques">
                <option value="opt1" selected>What is your Mother's Maiden Name?</option>
                <option value="opt2">What is the name of the High School you attended?</option>
                <option value="opt3">What is the name of your first Pet?</option>
                <option value="opt4">What street did you grow up on?</option>
                <option value="opt5">What is the name of your favorite food?</option>
                <option value="opt6">What company gave you your first job?</option>
                <option value="opt7">Name of your favorite sports team?</option>
              </select>
            </div>
            <div id="securityAns">
              <label for="security_Ans" class="formLabel" >Security Answer (Case-sensitive)</label>
              <input type="text" class="form-control" id="security_Ans" placeholder="Answer" required>
              <div class="fValidate" id="securityAnsError">This Field must be completed!</div>
            </div>
            <div id="termCondCheck">
              <input type="checkbox" class="form-check-input" name="tandcAgree" id="tandcBox" required>
              <label class="formLabel" for="tandcBox">I agree to the <a href="#" id="formLink">Terms and Conditions</a></label>
              <div class="fValidate" id="tandcValid">You must agree to Terms and Conditions!</div>
            </div>
            <a class="btn btn-light btn-lg" href="./index.html" style="position: relative; top: 480px; width: 200%; height: 50px;">Submit</a>
          </form>
        </div>
      <!-------End Outer Grid Container------->
      </div>
      <!------Footer Content-------->
      
  	
  	<script>
  		//Functions
//
//Function to test if email is valid
//
function emailTest(email) {
  var eParam = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,6})+$/;
  var isGood = eParam.test(email); 
  if (!isGood) {
    noErrors = false;
    $('#emailFError').css("display","block");
  }
  else {
    $('#emailFError').css("display","none");
  }
}
//
//Function to test if Password meets criteria
//
function passTest(pass) {
  var pParam = /^(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[^\w\d\s:])([^\s]){8,16}$/;
  var isGood = pParam.test(pass);
  if (!isGood) {
    $('#pWordError').css("display","block");
    noErrors = false;
  }
  else {
    $('#pWordError').css("display","none");
  }
}
//
//Function to check if two fields are the same (Password & Password Confirm or Email & Email confirm)
//
function isSame(string1, string2, ref) {
  //Will end run if No Errors flag is False
  if (noErrors) {
    //if Strings are Email Addresses
    if(ref === 1) {
      //Convert Case to Lowercase (as case does not matter for email addresses)
      var email1 = string1.toLowerCase();
      var email2 = string2.toLowerCase();
      //if Email addresses match
      if (email1 === email2) {
        $('#emailFCError').css("display" , "none");
      }
      //if Email addresses don't match
      else {
        noErrors = false;
        $('#emailFCError').css("display" , "block");
      }
    }
    //if Strings are Passwords
    else {
      //if Passwords match
      if (string1 === string2) {
        $('#pWordCError').css("display", "none");
      }
      //if Passwords don't match
      else {
        noErrors = false;
        $('#pWordCError').css("display", "block");
      }
    }
  }
}
function fieldFilled(input, ref) {
  var invalid = /(^[A-Z]{1}$)|(^[A-Z] $)/g;
  //If Required Fields are Blank
  if ((input === "")||invalid.test(input)) {
    noErrors = false;
    if (ref === 1) {
      $('#fNameError').css("display", "block");
    }
    else if (ref === 2) {
      $('#lNameError').css("display", "block");
    }
    else if (ref === 3) {
      $('#securityAnsError').css("display", "block");
    }
  }
  //If Required Fields are Completed
  else {
    if (ref === 1) {
      $('#fNameError').css("display", "none");
      $('#first_name').val($.trim(input));
    }
    else if (ref === 2) {
      $('#lNameError').css("display", "none");
      $('#last_name').val($.trim(input));
    }
    else if (ref === 3) {
      $('#securityAnsError').css("display", "none");
      $('#security_Ans').val($.trim(input));
    }
  }
}
//
//
//
function dobChecker(val, index) {
  if (val === null) {
    noErrors = false;
    //Unpopulated Month Field
    if (index === 1) {
      $('#monthError').css("display", "block");
    }
    //Unpopulated Year Field
    else {
      $('#yearError').css("display", "block");
    }
  }
  else {
    //Populated Month Field
    if (index === 1) {
      $('#monthError').css("display", "none");
    }
    //Populated Year Field
    else {
      $('#yearError').css("display", "none");
    }
  }
}
function termAndCondChecker(arg) {
  //If Not Checked
  if (!arg) {
    noErrors = false;
    $('#tandcValid').css("display", "block"); 
  }
  else {
    $('#tandcValid').css("display", "none"); 
  }
}

//Global Variables 
var noErrors;
var leapYear;

//
//Event Listeners
//
//First Name Text Field Input Listener
$('#first_name').on('input', function(){
  var alpha = /([^a-zA-Z- ])|( {2,})/g;
  var current = $(this).val();
  var capitalize = /[^A-Z]/g;
  //Checking to make sure all characters are Alphabetic
  if (alpha.test(current)) {
    current = current.replace(alpha, "");
    $(this).val(current);
  }
  //Capitalize the first letter of the string
  else if (capitalize.test(current[0])) {
    current = current.replace(current[0], current[0].toUpperCase());
    $(this).val(current);
  }
});

//Middle Initial Text Field Input Listener
$('#middle_initial').on('input', function(){
  var excess = /[a-zA-Z]{2,}/g;
  var nonAlpha = /[^a-zA-Z]/g;
  var capitalize = /[^A-Z]/g;
  var current = $(this).val();
  
  //Delete extra characters if more than 1 is input
  if (excess.test(current)) {
    current = current[0];
    $(this).val(current);
  }
  //Test if input is an Alphabetic Character
  else if (nonAlpha.test(current)) {
    current = current.replace(nonAlpha, "");
    $(this).val(current);
  }
  //Capitalize the Middle Initial
  else if (capitalize.test(current[0])) {
    current = current.replace(current[0], current[0].toUpperCase());
    $(this).val(current);
  }
});
//Last Name Text Field Input Listener
$('#last_name').on('input', function(){
  var alpha = /([^a-zA-Z- ])|( {2,})/g;
  var current = $(this).val();
  var capitalize = /[^A-Z]/g;
  //Checking to make sure all characters are Alphabetic
  if (alpha.test(current)) {
    current = current.replace(alpha, "");
    $(this).val(current);
  }
  //Capitalize the first letter of the string
  else if (capitalize.test(current[0])) {
    current = current.replace(current[0], current[0].toUpperCase());
    $(this).val(current);
  }
});
$('#security_Ans').on('input', function() {
  var alpha = /([^a-zA-Z- ])|( {2,})/g;
  var current = $(this).val();
  //Checking to make sure all characters are Alphabetic
  if (alpha.test(current)) {
    current = current.replace(alpha, "");
    $(this).val(current);
  }
});
//Date of Birth Day changer
$('#month_Birth').on('change', function() {
  var check = Number($(this).val());
  //Check if Month has atleast 30 days
  if (check !== 2) {
    $('#day_Birth').append('<option value="29">29</option>');
    $('#day_Birth').append('<option value="30">30</option>');
    $('#day_Birth option[value="31"]').remove();
    //Check if Month has 31 days
    if (((check % 1) === 0 && check <= 7)||((check % 2) === 0 && check > 7)) {
      $('#day_Birth').append('<option value="31">31</option>');
    }
  } 
  //If month is February.
  else if (leapYear === true) {
    $('#day_Birth option[value="31"]').remove();
    $('#day_Birth option[value="30"]').remove();
  }
  else {
    $('#day_Birth option[value="31"]').remove();
    $('#day_Birth option[value="30"]').remove();
    $('#day_Birth option[value="29"]').remove();
  }
});
//Leap Year Check 
$('#year_Birth').on('change', function() {
  var check = Number($(this).val());
  if (check % 4 !== 0) {
    leapYear = false;
    if (Number($('#month_Birth').val()) === 2) {
      $('#day_Birth option[value="29"]').remove();
    }
  }
  else if (check % 100 !== 0) {
    leapYear = true;
    if (Number($('#month_Birth').val()) === 2) {
      $('#day_Birth option[value="29"]').remove();
      $('#day_Birth').append('<option value="29">29</option>');
    }
  }
  else if (check % 400 !== 0) {
    leapYear = false;
    if (Number($('#month_Birth').val()) === 2) {
      $('#day_Birth option[value="29"]').remove();
    }
  }
  else {
    leapYear = true;
    if (Number($('#month_Birth').val()) === 2) {
      $('#day_Birth option[value="29"]').remove();
      $('#day_Birth').append('<option value="29">29</option>');
    }
  }
});
//Submit Button Validation Listener
$('#submit').click(function(event){
  noErrors = true;
  //Check if Email is Valid
  emailTest($('#emailInput').val());
  //Check if Email Confirmation field matches
  isSame($('#emailInput').val(), $('#emailcInput').val(), 1);
  //Password Rule Test
  passTest($('#password').val());
  //Check if Password Confirm field matches
  isSame($('#password').val(), $('#cpassword').val(), 2);
  //Required Names field checked
  fieldFilled($('#first_name').val(), 1);
  fieldFilled($('#last_name').val(), 2);
  //Security Answer Check
  fieldFilled($('#security_Ans').val(), 3);
  //Remove white spaces after strings
  dobChecker($('#month_Birth').val(), 1);
  dobChecker($('#year_Birth').val(), 2);
  //Check if Terms and Conditions are accepted
  termAndCondChecker($('#tandcBox').prop("checked"));
  //Check if noErrors is still true
  if (!noErrors) {
    event.preventDefault();
  }
});	
  	</script>
    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>
